<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../img/favicon.ico">

	<title>Skynet IM - Arduino Projects</title>

        <link href="../../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../../..">Arduino Projects</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../../tutorials/blink/blink/">Blink</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">2W & 4W Robots</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../tutorials/robots/robotstart/">Getting Started</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Arduino</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../chatterbot/">Chatter Bot</a>
</li>

        
            
<li >
    <a href="../../arduino-project-4x4-keypad-matrix-rotary-encoder/README/">4x4 Keypad Matrix</a>
</li>

        
            
<li >
    <a href="../../arduino-project-arduino-vga-out/README/">Arduino VGA</a>
</li>

        
            
<li >
    <a href="../../arduino-project-bmp180-digital-barometric-pressur/README/">BMP180 Sensor</a>
</li>

        
            
<li >
    <a href="../../arduino-project-fs1000a-433mhz-transmitters/README/">FS1000a 433mhz Transmitters</a>
</li>

        
            
<li >
    <a href="../../arduino-project-hc-05-bluetooth-device/README/">HC-05 Bluetooth</a>
</li>

        
            
<li >
    <a href="../../arduino-project-magnetic-reed-switch-water-sensor/README/">Magnetic Reed Switch Water Sensor</a>
</li>

        
            
<li >
    <a href="../../arduino-project-mifare-rfid-reader-rc522/README/">Mifare RFID reader RC522</a>
</li>

        
            
<li >
    <a href="../../arduino-project-nokia-5110-lcd/README/">Nokia 5110 LCD</a>
</li>

        
            
<li >
    <a href="../../arduino-project-pin-control-over-ethernet-oled-de/README/">Pin Control over Ethernet w/OLED</a>
</li>

        
            
<li class="active">
    <a href="./">Skynet IM</a>
</li>

        
            
<li >
    <a href="../../arduino-project-the-spo-512-speech-synthesizer/README/">SPO-512 Speech Synthesizer</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">ESP8266</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../esp8266/">Temp</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Other Projects</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../other/project-hot-wheels-10-525ghz-radar-gun/README/">Hot Wheels 10.524Ghz Radar Gun</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../../herojr/">Hero Jr Robot</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../../document/">Document Projects</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../../leroy/">About</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../arduino-project-pin-control-over-ethernet-oled-de/README/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../arduino-project-the-spo-512-speech-synthesizer/README/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>20140611 SKYNET.IM</p>
<p>Yup, the terminators are coming, Chris Matthieu along with a few others
have been working on machine to machine messaging. I’ve been giving
Chris a hard time about the robots coming back, he is making it
happen!!! Seriously thou, Skynet is a fairly easy to use set of
protocols for talking to any machine. Chris has (and I think mistakenly)
said you don’t need a CPU - What I think he means is you don’t need a
desktop/laptop full sized computer (or for that matter a rPI,
BeagleBone, or small computer) You do need a processor of some type - A
microcontroller works well.</p>
<p>So what is Skynet? In a nutshell it’s a simple way for machines to talk
to each other.</p>
<p>It takes the Firmata protocols and builds on them to be used over
wireless or ethernet.</p>
<p>SO what is Firmata? It’s a generic protocol for communicating with
microcontrollers from software on a host computer.
<a href="http://firmata.org"><em>http://firmata.org</em></a></p>
<p>I haven’t gotten into the firmata implitations of skynet yet, and that
maybe something for a later meeting.</p>
<p>With Skynet, every machine generates it’s own UUID and API codes, they
can be overwritten if you need to. The programs/api use these UUID and
codes to talk to each other. You can name them, but the machines will
still use the UUID.</p>
<p>Going to verify this at the library, but it seems once connected, the
machines UUID stay with them, making it easy on us humans, and at least
easy enough that we don’t have to change our code everytime we plug in
the device.</p>
<p>There is a web impliation of skynet using google chrome and something
called NodeBlu which is based from something called NodeRed.</p>
<p>NodeBlu, is a connector, it really is easy to pull blocks down and
connect them to other blocks to have a remote device do something.</p>
<p>But the real power of skynet comes from the API, using simple restFUL
commands, someone can control the remote device from the command line.
OR Two skynet connected devices can connect to each other and decide
what to do.</p>
<p>Chris has a number of videos on Skynet,
<a href="https://www.youtube.com/channel/UCBMdqdAbjJjE9LvMjVpiwUw"><em>https://www.youtube.com/channel/UCBMdqdAbjJjE9LvMjVpiwUw</em></a></p>
<p>I was watching a few of his videos to get ideas on what to demo, and
came across one where he could call (on his phone) his connected devices
- this is very cool when it comes to automation. Think about it, if I
could call Skynet, say “I’ll be home in 10 minutes unlock the door” and
I had a door that could be remotely unlocked, in 10 minutes the door
would open. Using that same idea you could text your home and ask for a
status update. All very easy to do.</p>
<p>So My demo is going to be on the “Echo” sketch that is included with the
Skynet-Arduino-Firmware Library Created by Jacob Rosenthal
<a href="https://github.com/skynetim/skynet_firmware_arduino"><em>https://github.com/skynetim/skynet_firmware_arduino</em></a></p>
<p>Jacob also has several other skynet librarys in his “skynet” github
<a href="https://github.com/skynetim"><em>https://github.com/skynetim</em></a></p>
<p>Another developer/contributor to Skynet is Luis Montes (monteslu)- He
has worked on the Skynet Firmata and he has some librarys on github as
well. <a href="https://github.com/monteslu"><em>https://github.com/monteslu</em></a></p>
<p>I can tell you that I’ve “spoke” well chatted with all three of these
people over the past couple of weeks and all are very knowledgable and
helpful on skynet and how it works.</p>
<p>In fact a few of the issues I had at first with NodeBlu Luis said he
could fix or try to fix so it was a little more clear as to what is
needed.</p>
<p>But wait I was talking about my demo - It’s the “Echo” sketch, and at
first it wasn’t clear to me what this sketch did. BUT Simply if you send
a message to it, it will “Echo” that message back to you.</p>
<p>Using NodeBlu, I was able to setup something that I could either speak
to it, google would use it’s speech to text engine and send the message
on to the machine (arduino), a couple of seconds later the arduino would
send back the text and google would use the text to speech engine and
speak what I said. Yes, I know, all of that could have been done quickly
and easier with sending the text to the machine, but it’s a demo of what
can be done. This is using the stock “Echo” sketch and a NodeBlu program
that I built.</p>
<p>I can also just type a message into the NodeBlu program and that will
get sent to the arduino, and come back and speak.</p>
<p><img alt="" src="../media/image01.png" />{width="6.5in" height="4.875in"}</p>
<p>My 2nd demo of Skynet, I have hooked up a DS1620 temperature sensor
(Which seems off to me today it’s saying it’s 82 degrees in here, seems
high, maybe because the library was written for a UNO and I’m using it
on a mega) doesn’t matter, it’s a concept. I’m using the same NodeBlu
program, but this time, anything I say, or ask for it will speak the
temperature to me.</p>
<p>So you might be looking at the NodeBlu program above and wondering what
is going on?</p>
<p>There are two parts to this, (maybe three), the first step is to setup
your remote devices, Called NODES - You can name these devices anything
you want, the name isn’t important as it’s for us humans anyways. But
you will need the device UUID and the Token (on the Arduino you can get
both these from the serial monitor)</p>
<p>Next you drag some blocks over to the workspace - most of the blocks are
self explanatory as to what they do, some are inputs and some are
outputs, and some are both. (So if the connector is on the right side
it’s an input, if it’s on the left side it’s an output, and on both
sides well it’s both) There are two blocks that aren’t so self
explanatory, they are the Function block, and the switch block. So the
function block will allow you to write some Java script functions that
can change the course of the program on the NodeBlu side of things.</p>
<p>Remember it’s looking for JAVA - which is a little different, and threw
me for a bit as too way things weren’t working. Right now there is
nothing that tells you there is an error, and this one of the things
that Luis thought he could fix. The switch block is an kind of like a IF
statement block, you can add multiply paths for the output to go to. In
my example you can see 5 different directions the output can go.</p>
<p>So that is just briefly what Skynet is, and what it can do, The
unfortunate part is the guys that created this are programmers by
profession, and they didn’t do such a good job in my opinion documenting
things, And for someone who is just starting programming, or someone who
has never used a API this might be a real struggle. I have used APIs and
been programming for a while now and I found at least parts of it to be
confusing, I’d consider myself to be an intermediate level programmer,
nothing these guys can do. It’s an old problem with us programer types -
we understand and know how it works, and don’t think about what the end
user knows or the skill level they might be at. Happens all the time.
The best thing I can say is the guys on Chris’s team are very
knowledgable, and do understand what is going on, and are very helpful.
(Twitter is probably the best way to get them, I know that Chris watches
both Twitter and G+ most of the day)</p>
<p>Release the Robots!</p>
<p>Modified Skynet.im Echo sketch to include DS1620 Temp Sensor:</p>
<p>*</p>
<p>* SSSSS kk tt</p>
<p>* SS kk kk yy yy nn nnn eee tt</p>
<p>* SSSSS kkkkk yy yy nnn nn ee e tttt</p>
<p>* SS kk kk yyyyyy nn nn eeeee tt</p>
<p>* SSSSS kk kk yy nn nn eeeee tttt</p>
<p>* yyyyy</p>
<p>*</p>
<p>* SkynetClient for http://skynet.im, OPEN COMMUNICATIONS NETWORK &amp; API
FOR</p>
<p>* THE INTERNET OF THINGS.</p>
<p>*</p>
<p>* This sketch parses any messages it receives and echos them back to
the</p>
<p>* sender.</p>
<p>*</p>
<p>* Works with ethernet shields compatible with EthernetClient library
from</p>
<p>* Arduino. If you don't know, grab the original</p>
<p>* http://arduino.cc/en/Main/ArduinoEthernetShield</p>
<p>*</p>
<p>* Also requires the ArduinoJsonParser</p>
<p>* https://github.com/bblanchon/ArduinoJsonParser</p>
<p>*</p>
<p>* You will notice we're using F() in Serial.print which might be new to
you</p>
<p>* Its covered briefly on the arduino print page but it means we can
store</p>
<p>* our strings in flash, instead of in ram.</p>
<p>*</p>
<p>* You can turn on debugging within SkynetClient.h by uncommenting</p>
<p>* #define SKYNETCLIENT_DEBUG</p>
<p>*/</p>
<p>#include &lt;EEPROM.h&gt;</p>
<p>#include "Ethernet.h"</p>
<p>#include "SPI.h"</p>
<p>#include "SkynetClient.h"</p>
<p>#include &lt;JsonParser.h&gt;</p>
<p>#include &lt;DS1620.h&gt;</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>EthernetClient client;</p>
<p>SkynetClient skynetclient(client);</p>
<p>//you can't have 2 of the same mac on your network!</p>
<p>byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</p>
<p>char hostname[] = "skynet.im";</p>
<p>int port = 80;</p>
<p>static const uint8_t RST_PIN = 7;</p>
<p>static const uint8_t CLK_PIN = 8;</p>
<p>static const uint8_t DQ_PIN = 9;</p>
<p>DS1620 ds1620(RST_PIN, CLK_PIN, DQ_PIN);</p>
<p>void setup()</p>
<p>{</p>
<p>pinMode(8, OUTPUT);</p>
<p>Serial.begin(9600);</p>
<p>delay(100);</p>
<p>ds1620.config();</p>
<p>// start the Ethernet connection:</p>
<p>if (Ethernet.begin(mac) == 0) {</p>
<p>Serial.println(F("Failed to configure Ethernet using DHCP"));</p>
<p>// no point in carrying on, so do nothing forevermore:</p>
<p>for(;;)</p>
<p>;</p>
<p>}</p>
<p>skynetclient.setMessageDelegate(onMessage);</p>
<p>}</p>
<p>void onMessage(const char * const data) {</p>
<p>JsonParser&lt;16&gt; parser;</p>
<p>//Serial.print("Parse ");</p>
<p>//Serial.println(data);</p>
<p>JsonHashTable hashTable = parser.parseHashTable((char*)data);</p>
<p>if (!hashTable.success())</p>
<p>{</p>
<p>Serial.println("JsonParser.parseHashTable() failed");</p>
<p>return;</p>
<p>}</p>
<p>char* payload = hashTable.getString("payload");</p>
<p>//Serial.print("payload=");</p>
<p>Serial.println(payload);</p>
<p>char* fromUuid = hashTable.getString("fromUuid");</p>
<p>//Serial.print("fromUuid=");</p>
<p>//Serial.println(fromUuid);</p>
<p>const float temp_c = ds1620.temp_c();</p>
<p>const float temp_f = temp_c * 9/5.0 + 32;</p>
<p>Serial.print(temp_f, 1); // 1 decimal place</p>
<p>Serial.print("F ");</p>
<p>Serial.print(temp_c, 1);</p>
<p>Serial.println("C");</p>
<p>String s = dtostrf(temp_f, 1, 2, payload);</p>
<p>skynetclient.sendMessage(fromUuid, payload);</p>
<p>}</p>
<p>void loop() {</p>
<p>while(!skynetclient.monitor()){</p>
<p>bool skynetStatus = false;</p>
<p>do {</p>
<p>skynetStatus = skynetclient.connect(hostname, port);</p>
<p>} while (!skynetStatus);</p>
<p>Serial.println(F("Connected!"));</p>
<p>char uuid[UUIDSIZE];</p>
<p>skynetclient.getUuid(uuid);</p>
<p>Serial.print(F("uuid: "));</p>
<p>Serial.println(uuid);</p>
<p>skynetclient.getToken(uuid);</p>
<p>Serial.print(F("token: "));</p>
<p>Serial.println(uuid);</p>
<p>}</p>
<p>}</p>
<p>So you’ll see it doesn’t matter what you send to it, it will send the
temperature back everytime - you can be really impressive thou and say
“What is the Temerature” to fool people.</p>
<p>Simple prove of concept sketch, and a good demo</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../../..';</script>
        <script data-main="../../../../mkdocs/js/search.js" src="../../../../mkdocs/js/require.js"></script>
        <script src="../../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
